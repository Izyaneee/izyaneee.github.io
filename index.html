<!DOCTYPE html>
<html>
<head>
    <title>Blackjack Dealer Simulator</title>
</head>
<body>
    <h1>Blackjack Dealer Simulator</h1>
    <button onclick="dealerPlay()">Start Dealer</button>
    <p id="result"></p>
    
    <script>
        const deck = [
          2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10, 11,
          2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10, 11,
          2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10, 11,
          2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10, 11
        ];

        function calculateTotal(hand) {
          const sum = hand.reduce((total, card) => total + card, 0);
          const aces = hand.filter(card => card === 11).length;

          while (sum > 21 && aces > 0) {
            sum -= 10;
            aces--;
          }

          return sum;
        }

        function dealerPlay() {
          deck.sort(() => Math.random() - 0.5);
          const dealerHand = [deck.pop(), deck.pop()];
          const initialTotal = calculateTotal(dealerHand);
          const resultElement = document.getElementById('result');

          if (initialTotal === 21) {
            resultElement.textContent = "Dealer has Blackjack!";
            return;
          }

          resultElement.textContent = `Dealer's initial total: ${initialTotal}`;

          while (initialTotal < 17) {
            dealerHand.push(deck.pop());
            initialTotal = calculateTotal(dealerHand);
            resultElement.textContent = `Dealer is hitting. Dealer's total: ${initialTotal}`;
          }

          if (initialTotal > 21) {
            resultElement.textContent = "Dealer busted!";
          } else {
            resultElement.textContent = "Dealer stays.";
          }
        }
    </script>
</body>
</html>
